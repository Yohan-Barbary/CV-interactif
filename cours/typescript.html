<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TypeScript - Formation DWWM</title>
    <link rel="stylesheet" href="../commun/styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Chakra+Petch:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <header class="l-header">
        <nav class="navbar">
            <div class="nav-content">
                <div class="logo">
                    <a href="../index.html" class="logo-text">&lt;DWWM/&gt;</a>
                </div>
                <ul class="nav-links">
                    <li><a href="../index.html"><i class="fas fa-home"></i><span class="nav-text">Accueil</span></a></li>
                    <li><a href="../lexique/lexique.html"><i class="fas fa-book"></i><span class="nav-text">Lexique</span></a></li>
                </ul>
            </div>
        </nav>
    </header>

    <main class="course-content">
        <h1><i class="fab fa-js"></i> TypeScript</h1>
        
        <section class="course-section hero-section">
            <div class="hero-content">
                <div class="hero-text">
                    <h2>Qu'est-ce que TypeScript ?</h2>
                    <p class="hero-description">
                        TypeScript est un sur-ensemble typé de JavaScript qui se compile en JavaScript pur. Il ajoute des types statiques optionnels, des classes, et des modules à JavaScript, permettant un développement plus robuste et maintenable.
                    </p>
                    <div class="hero-features">
                        <div class="hero-feature">
                            <i class="fas fa-check-circle"></i>
                            <span>Typage Statique</span>
                        </div>
                        <div class="hero-feature">
                            <i class="fas fa-code-branch"></i>
                            <span>POO Avancée</span>
                        </div>
                        <div class="hero-feature">
                            <i class="fas fa-tools"></i>
                            <span>Outils Modernes</span>
                        </div>
                    </div>
                </div>
                <div class="hero-image">
                    <img src="https://raw.githubusercontent.com/remojansen/logo.ts/master/ts.png" alt="Logo TypeScript">
                </div>
            </div>
        </section>

        <section class="course-section typescript-basics">
            <h2>Fondamentaux de TypeScript</h2>
            
            <div class="intro-text">
                <p>TypeScript enrichit JavaScript en ajoutant un système de types statiques qui permet de détecter les erreurs dès la phase de développement, avant même l'exécution du code. Comprendre ces types est essentiel pour tirer pleinement parti de TypeScript.</p>
            </div>

            <div class="comparison-section">
                <h3>De JavaScript à TypeScript</h3>
                <div class="code-comparison">
                    <div class="code-block js-block">
                        <h4>JavaScript</h4>
                        <div class="code-example">
                            <code>
// JavaScript classique
function addNumbers(x, y) {
    return x + y;
}

// Peut causer des erreurs inattendues
console.log(addNumbers("5", 10)); // "510"
console.log(addNumbers([], {}));  // "[object Object]"
                            </code>
                        </div>
                    </div>
                    <div class="code-block ts-block">
                        <h4>TypeScript</h4>
                        <div class="code-example">
                            <code>
// TypeScript avec typage
function addNumbers(x: number, y: number): number {
    return x + y;
}

// Erreurs détectées à la compilation
addNumbers("5", 10);  // Erreur: argument de type 'string' n'est pas assignable au type 'number'
addNumbers([], {});   // Erreur: les arguments ne sont pas des nombres
                            </code>
                        </div>
                    </div>
                </div>
            </div>

            <div class="types-lexicon">
                <h3>Lexique des Types</h3>
                
                <div class="type-grid">
                    <div class="type-item">
                        <h4>Types Primitifs</h4>
                        <div class="type-explanation">
                            <p>Les types de base en TypeScript correspondent aux types primitifs de JavaScript, mais avec une vérification stricte.</p>
                            <div class="code-example">
                                <code>
// Types primitifs
let isActive: boolean = true;      // true ou false
let age: number = 25;              // Nombres entiers et décimaux
let name: string = "TypeScript";   // Chaînes de caractères
let notDefined: undefined;         // undefined
let empty: null = null;            // null
let symbol: symbol = Symbol();     // Symboles
let bigInt: bigint = 100n;        // BigInt
                                </code>
                            </div>
                            <div class="type-notes">
                                <h5>Points Importants:</h5>
                                <ul>
                                    <li>Le typage est optionnel mais recommandé</li>
                                    <li>L'inférence de type permet souvent d'omettre les annotations</li>
                                    <li>Les types sont vérifiés à la compilation</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="type-item">
                        <h4>Types Spéciaux</h4>
                        <div class="type-explanation">
                            <p>TypeScript introduit des types spéciaux pour des cas d'utilisation particuliers.</p>
                            <div class="code-example">
                                <code>
// Type any - à éviter si possible
let flexible: any = 4;
flexible = "string";  // OK
flexible = false;     // OK

// Type unknown - plus sûr que any
let safe: unknown = 4;
// safe.toFixed();    // Erreur: nécessite une vérification de type

// Type never - jamais de retour
function throwError(): never {
    throw new Error("Une erreur");
}

// Type void - pas de retour
function log(): void {
    console.log("Message");
}
                                </code>
                            </div>
                            <div class="type-notes">
                                <h5>Quand les utiliser:</h5>
                                <ul>
                                    <li><strong>any</strong>: Pour la migration progressive de JS vers TS</li>
                                    <li><strong>unknown</strong>: Pour les données de type inconnu nécessitant une vérification</li>
                                    <li><strong>never</strong>: Pour les fonctions qui ne retournent jamais</li>
                                    <li><strong>void</strong>: Pour les fonctions sans valeur de retour</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="type-item">
                        <h4>Types Composés</h4>
                        <div class="type-explanation">
                            <p>Les types composés permettent de créer des structures de données complexes.</p>
                            <div class="code-example">
                                <code>
// Tableaux
let numbers: number[] = [1, 2, 3];
let strings: Array<string> = ["a", "b", "c"];

// Tuples - tableaux de longueur fixe
let tuple: [string, number] = ["age", 25];

// Unions de types
type StringOrNumber = string | number;
let flexible: StringOrNumber = "hello";
flexible = 42; // OK

// Intersections de types
type Named = { name: string };
type Aged = { age: number };
type Person = Named & Aged;

// Literal types
type Direction = "north" | "south" | "east" | "west";
let heading: Direction = "north"; // Seules ces valeurs sont acceptées
                                </code>
                            </div>
                            <div class="type-notes">
                                <h5>Avantages:</h5>
                                <ul>
                                    <li>Typage précis des structures de données</li>
                                    <li>Autocomplétion dans l'IDE</li>
                                    <li>Détection d'erreurs améliorée</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="course-section">
            <h2>Types de Base</h2>
            <div class="feature-block">
                <div class="feature-explanation">
                    <p>TypeScript introduit un système de types statiques qui permet de détecter les erreurs avant l'exécution.</p>
                </div>
                <div class="types-examples">
                    <div class="example-item">
                        <h3>Types Primitifs</h3>
                        <div class="code-example">
                            <code>
// Types de base
let isDone: boolean = false;
let decimal: number = 6;
let color: string = "blue";
let list: number[] = [1, 2, 3];
let tuple: [string, number] = ["hello", 10];

// Type 'any' (à utiliser avec parcimonie)
let notSure: any = 4;
notSure = "maybe a string";

// Type 'void' pour les fonctions sans retour
function warnUser(): void {
    console.log("This is a warning message");
}
                            </code>
                        </div>
                    </div>

                    <div class="example-item">
                        <h3>Interfaces</h3>
                        <div class="code-example">
                            <code>
interface User {
    name: string;
    id: number;
    email?: string; // Propriété optionnelle
    readonly createdAt: Date; // Propriété en lecture seule
}

// Utilisation de l'interface
const user: User = {
    name: "John Doe",
    id: 1,
    createdAt: new Date()
};
                            </code>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="course-section interfaces-classes">
            <h2>Interfaces et Classes</h2>
            
            <div class="intro-text">
                <p>TypeScript apporte une approche orientée objet robuste avec les interfaces et les classes, permettant de créer des structures de code plus organisées et maintenables.</p>
            </div>

            <div class="feature-block">
                <h3>Interfaces</h3>
                <div class="comparison-section">
                    <div class="code-comparison">
                        <div class="code-block js-block">
                            <h4>JavaScript (Objet classique)</h4>
                            <div class="code-example">
                                <code>
// JavaScript - Pas de vérification de structure
const user = {
    name: "John",
    age: 30
};

function updateUser(user) {
    user.nam = "Jane"; // Faute de frappe non détectée
    user.ages = 31;    // Propriété inexistante non détectée
}
                                </code>
                            </div>
                        </div>
                        <div class="code-block ts-block">
                            <h4>TypeScript (avec Interface)</h4>
                            <div class="code-example">
                                <code>
// Définition de l'interface
interface User {
    name: string;
    age: number;
    email?: string;        // Propriété optionnelle
    readonly id: number;   // Propriété en lecture seule
}

// Utilisation de l'interface
const user: User = {
    name: "John",
    age: 30,
    id: 1
};

function updateUser(user: User) {
    user.nam = "Jane";  // Erreur: la propriété 'nam' n'existe pas
    user.id = 2;        // Erreur: 'id' est en lecture seule
}
                                </code>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="interface-features">
                    <div class="feature-item">
                        <h4>Types d'Interfaces Avancés</h4>
                        <div class="code-example">
                            <code>
// Interface avec méthodes
interface Clickable {
    onClick(): void;
    onDoubleClick?(): void;  // Méthode optionnelle
}

// Interface d'index
interface StringArray {
    [index: number]: string;
}

// Extension d'interfaces
interface Animal {
    name: string;
}

interface Dog extends Animal {
    breed: string;
}

// Interface de fonction
interface SearchFunc {
    (source: string, subString: string): boolean;
}
                            </code>
                        </div>
                        <div class="type-notes">
                            <h5>Points Clés:</h5>
                            <ul>
                                <li>Les interfaces sont purement pour le typage</li>
                                <li>Elles n'existent pas dans le JavaScript compilé</li>
                                <li>Peuvent être étendues et combinées</li>
                                <li>Idéales pour les contrats de type</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div class="feature-block">
                <h3>Classes</h3>
                <div class="class-examples">
                    <div class="example-item">
                        <h4>Classes de Base</h4>
                        <div class="code-example">
                            <code>
class Vehicle {
    // Modificateurs d'accès
    private speed: number;
    protected brand: string;
    public color: string;

    // Constructor avec paramètres de propriété
    constructor(
        brand: string,
        color: string = "black",  // Valeur par défaut
        private readonly vin: string  // Propriété privée en lecture seule
    ) {
        this.brand = brand;
        this.color = color;
        this.speed = 0;
    }

    // Méthodes
    accelerate(increment: number): void {
        this.speed += increment;
    }

    // Getter
    get currentSpeed(): number {
        return this.speed;
    }

    // Setter
    set currentSpeed(value: number) {
        if (value >= 0) {
            this.speed = value;
        }
    }
}
                            </code>
                        </div>
                        <div class="type-notes">
                            <h5>Caractéristiques:</h5>
                            <ul>
                                <li>Support complet de la POO</li>
                                <li>Encapsulation avec modificateurs d'accès</li>
                                <li>Getters et setters</li>
                                <li>Propriétés en lecture seule</li>
                            </ul>
                        </div>
                    </div>

                    <div class="example-item">
                        <h4>Héritage et Polymorphisme</h4>
                        <div class="code-example">
                            <code>
// Classe abstraite
abstract class Animal {
    constructor(protected name: string) {}
    
    abstract makeSound(): void;  // Méthode abstraite
    
    move(distance: number = 0): void {
        console.log(`${this.name} moved ${distance}m.`);
    }
}

// Classe dérivée
class Cat extends Animal {
    constructor(name: string, private lives: number = 9) {
        super(name);
    }
    
    makeSound(): void {
        console.log('Meow!');
    }
    
    // Surcharge de méthode
    move(distance: number = 5): void {
        console.log('Stalking...');
        super.move(distance);
    }
}

// Utilisation
const cat = new Cat('Whiskers');
cat.move();  // Affiche: Stalking... Whiskers moved 5m.
cat.makeSound();  // Affiche: Meow!
                            </code>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="course-section generics-section">
            <h2>Génériques</h2>
            
            <div class="intro-text">
                <p>Les génériques sont un des concepts les plus puissants de TypeScript. Ils permettent de créer des composants réutilisables qui peuvent fonctionner avec une variété de types tout en conservant la sécurité du typage.</p>
            </div>

            <div class="feature-block">
                <h3>Concepts de Base des Génériques</h3>
                <div class="comparison-section">
                    <div class="code-comparison">
                        <div class="code-block js-block">
                            <h4>Sans Génériques</h4>
                            <div class="code-example">
                                <code>
// Sans génériques - perte de type
function identity(arg: any): any {
    return arg;
}

let result = identity(42);  // Type: any
result.toFixed();  // Pas d'erreur à la compilation
                                </code>
                            </div>
                        </div>
                        <div class="code-block ts-block">
                            <h4>Avec Génériques</h4>
                            <div class="code-example">
                                <code>
// Avec génériques - conservation du type
function identity<T>(arg: T): T {
    return arg;
}

let result = identity(42);  // Type: number
let str = identity("hello");  // Type: string
                                </code>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="generics-examples">
                    <div class="example-item">
                        <h4>Classes Génériques</h4>
                        <div class="code-example">
                            <code>
class Box<T> {
    private content: T;

    constructor(value: T) {
        this.content = value;
    }

    getValue(): T {
        return this.content;
    }

    setValue(value: T): void {
        this.content = value;
    }
}

// Utilisation
const numberBox = new Box<number>(123);
const stringBox = new Box<string>("Hello");

// Inférence de type
const autoBox = new Box("Auto-inféré");  // Box<string>
                            </code>
                        </div>
                        <div class="type-notes">
                            <h5>Avantages:</h5>
                            <ul>
                                <li>Réutilisation du code</li>
                                <li>Sécurité des types</li>
                                <li>Flexibilité</li>
                            </ul>
                        </div>
                    </div>

                    <div class="example-item">
                        <h4>Contraintes de Types</h4>
                        <div class="code-example">
                            <code>
// Interface pour la contrainte
interface Lengthwise {
    length: number;
}

// Fonction générique avec contrainte
function logLength<T extends Lengthwise>(arg: T): number {
    console.log(arg.length);
    return arg.length;
}

// Utilisation valide
logLength("Hello");     // string a length
logLength([1, 2, 3]);   // array a length
logLength({ length: 5 }); // objet avec propriété length

// Erreur de compilation
// logLength(123);      // number n'a pas de length
                            </code>
                        </div>
                    </div>

                    <div class="example-item">
                        <h4>Génériques Multiples</h4>
                        <div class="code-example">
                            <code>
// Fonction avec plusieurs types génériques
function merge<T extends object, U extends object>(obj1: T, obj2: U): T & U {
    return { ...obj1, ...obj2 };
}

// Utilisation
const result = merge(
    { name: "John" },
    { age: 30 }
);  // Type: { name: string } & { age: number }

// Classes avec plusieurs types
class DataPair<K, V> {
    constructor(public key: K, public value: V) {}

    display(): void {
        console.log(`${this.key}: ${this.value}`);
    }
}

const pair = new DataPair<string, number>("Age", 25);
                            </code>
                        </div>
                        <div class="type-notes">
                            <h5>Cas d'Utilisation:</h5>
                            <ul>
                                <li>Manipulation de paires clé-valeur</li>
                                <li>Fusion d'objets typés</li>
                                <li>Collections personnalisées</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="course-section">
            <h2>Bonnes Pratiques</h2>
            <div class="best-practices-list">
                <div class="practice-item">
                    <h4>Types Stricts</h4>
                    <ul>
                        <li>Éviter l'utilisation de 'any'</li>
                        <li>Définir des interfaces précises</li>
                        <li>Utiliser les unions de types</li>
                    </ul>
                </div>
                <div class="practice-item">
                    <h4>Configuration</h4>
                    <ul>
                        <li>Activer strict: true dans tsconfig.json</li>
                        <li>Utiliser les linters</li>
                        <li>Configurer le compilateur correctement</li>
                    </ul>
                </div>
                <div class="practice-item">
                    <h4>Organisation du Code</h4>
                    <ul>
                        <li>Séparer les interfaces dans des fichiers .d.ts</li>
                        <li>Utiliser les modules</li>
                        <li>Documenter avec JSDoc</li>
                    </ul>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="footer-content">
            <p>&copy; <span id="current-year"></span> Formation DWWM - Tous droits réservés</p>
        </div>
    </footer>
    <script src="../scripts.js"></script>
</body>
</html> 